<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduManager Pro - H·ªá th·ªëng Qu·∫£n l√Ω Gi√°o d·ª•c</title>
    <link rel="stylesheet" href="css/style.css?v=4">
    <link rel="stylesheet" href="css/dashboard.css?v=4">
    <link rel="stylesheet" href="css/components.css?v=4">
    <link rel="stylesheet" href="css/modules.css?v=4">
    <link rel="stylesheet" href="css/utilities.css?v=4">
    <link rel="stylesheet" href="css/ai-assistant.css?v=4">
    <link rel="stylesheet" href="css/ai-student-analyzer.css?v=4">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Sign-In -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <div id="app">
        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loader"></div>
            <p>ƒêang t·∫£i EduManager Pro...</p>
        </div>

        <!-- Login/Register Page -->
        <div id="auth-page" class="auth-page" style="display: none;">
            <div class="auth-container">
                <div class="auth-header">
                    <img src="assets/logo.png" alt="EduManager Pro" class="logo">
                    <h1>EduManager Pro</h1>
                    <p>H·ªá th·ªëng Qu·∫£n l√Ω Gi√°o d·ª•c Th√¥ng minh</p>
                </div>

                <!-- Login Form -->
                <div id="login-form" class="auth-form">
                    <h2>üìß ƒêƒÉng nh·∫≠p b·∫±ng Email</h2>
                    <form onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <input type="email" id="login-email" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="login-password" placeholder="M·∫≠t kh·∫©u" required>
                            <span class="toggle-password" onclick="togglePassword('login-password')">
                                <i class="fas fa-eye"></i>
                            </span>
                        </div>
                        <div class="form-options">
                            <label>
                                <input type="checkbox"> Ghi nh·ªõ ƒëƒÉng nh·∫≠p
                            </label>
                            <a href="#" class="forgot-password">Qu√™n m·∫≠t kh·∫©u?</a>
                        </div>
                        <button type="submit" class="btn btn-primary">ƒêƒÇNG NH·∫¨P</button>
                    </form>

                    <div class="divider">‚ö° ƒêƒÉng nh·∫≠p nhanh</div>

                    <div class="social-login">
                        <button class="btn-google" onclick="loginWithGoogle()">
                            <i class="fab fa-google"></i> ƒêƒÉng nh·∫≠p b·∫±ng Google
                        </button>
                        <button class="btn-apple" onclick="loginWithApple()">
                            <i class="fab fa-apple"></i> ƒêƒÉng nh·∫≠p b·∫±ng Apple
                        </button>
                    </div>

                    <div class="auth-switch">
                        üìù Ch∆∞a c√≥ t√†i kho·∫£n? 
                        <a href="#" onclick="showRegister()">ƒêƒÇNG K√ù NGAY</a>
                    </div>
                </div>

                <!-- Register Form -->
                <div id="register-form" class="auth-form" style="display: none;">
                    <h2>üöÄ ƒêƒÉng k√Ω t√†i kho·∫£n</h2>
                    <form onsubmit="handleRegister(event)">
                        <div class="form-group">
                            <input type="text" id="register-name" placeholder="H·ªç v√† t√™n" required>
                        </div>
                        <div class="form-group">
                            <input type="email" id="register-email" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="register-password" placeholder="M·∫≠t kh·∫©u" required>
                            <div class="password-strength" id="password-strength"></div>
                        </div>
                        <div class="form-group">
                            <input type="password" id="register-confirm" placeholder="X√°c nh·∫≠n m·∫≠t kh·∫©u" required>
                        </div>
                        <div class="form-group">
                            <select id="register-role" required>
                                <option value="">Ch·ªçn vai tr√≤</option>
                                <option value="student">Sinh vi√™n</option>
                                <option value="teacher">Gi·∫£ng vi√™n</option>
                                <option value="admin">Qu·∫£n l√Ω</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" required> 
                                T√¥i ƒë·ªìng √Ω v·ªõi <a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
                            </label>
                        </div>
                        <button type="submit" class="btn btn-primary">ƒêƒÇNG K√ù T√ÄI KHO·∫¢N</button>
                    </form>

                    <div class="divider">‚ö° ƒêƒÉng k√Ω nhanh b·∫±ng</div>

                    <div class="social-login">
                        <button class="btn-google" onclick="registerWithGoogle()">
                            <i class="fab fa-google"></i> Ti·∫øp t·ª•c v·ªõi Google
                        </button>
                        <button class="btn-apple" onclick="registerWithApple()">
                            <i class="fab fa-apple"></i> Ti·∫øp t·ª•c v·ªõi Apple
                        </button>
                    </div>

                    <div class="auth-switch">
                        üë§ ƒê√£ c√≥ t√†i kho·∫£n? 
                        <a href="#" onclick="showLogin()">ƒêƒÇNG NH·∫¨P NGAY</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div id="main-dashboard" style="display: none;">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <img src="assets/logo.png" alt="Logo">
                    <h3>EduManager Pro</h3>
                </div>
                <nav class="sidebar-nav">
                    <a href="#dashboard" class="nav-item active" onclick="navigateTo('dashboard')">
                        <i class="fas fa-home"></i> Dashboard
                    </a>
                    <a href="#students" class="nav-item" onclick="navigateTo('students')">
                        <i class="fas fa-user-graduate"></i> Qu·∫£n l√Ω H·ªçc vi√™n
                    </a>
                    <a href="#teachers" class="nav-item" onclick="navigateTo('teachers')">
                        <i class="fas fa-chalkboard-teacher"></i> Qu·∫£n l√Ω Gi√°o vi√™n
                    </a>
                    <a href="#schedule" class="nav-item" onclick="navigateTo('schedule')">
                        <i class="fas fa-calendar-alt"></i> Th·ªùi kh√≥a bi·ªÉu
                    </a>
                    <a href="#finance" class="nav-item" onclick="navigateTo('finance')">
                        <i class="fas fa-money-bill-wave"></i> Qu·∫£n l√Ω T√†i ch√≠nh
                    </a>
                    <a href="#research" class="nav-item" onclick="navigateTo('research')">
                        <i class="fas fa-flask"></i> Nghi√™n c·ª©u Khoa h·ªçc
                    </a>

                    <a href="#notifications" class="nav-item" onclick="navigateTo('notifications')">
                        <i class="fas fa-bell"></i> Th√¥ng b√°o
                        <span class="badge">15</span>
                    </a>
                    <a href="#lms" class="nav-item" onclick="navigateTo('lms')">
                        <i class="fas fa-laptop"></i> L·ªõp h·ªçc Online
                    </a>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Header -->
                <header class="header">
                    <button class="menu-toggle" onclick="toggleSidebar()">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="T√¨m ki·∫øm...">
                    </div>
                    <div class="header-actions">
                        <button class="icon-btn" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge">5</span>
                        </button>
                        <div class="user-menu">
                            <img src="assets/avatar.png" alt="User" class="user-avatar">
                            <span class="user-name">Admin</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </header>

                <!-- Content Area -->
                <div class="content-area" id="content-area">
                    <!-- Dashboard content will be loaded here -->
                </div>
            </main>
        </div>

        <!-- AI Assistant Floating Button -->
        <button class="ai-assistant-btn" onclick="AIAssistant.toggle()" title="AI Assistant">
            <i class="fas fa-robot"></i>
        </button>

        <!-- AI Assistant Chat Panel -->
        <div id="ai-assistant-panel" class="ai-assistant-panel hidden">
            <div class="ai-panel-header">
                <div class="ai-header-left">
                    <div class="ai-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <h3>AI Assistant</h3>
                        <p class="ai-status">Tr·ª±c tuy·∫øn</p>
                    </div>
                </div>
                <button class="ai-close-btn" onclick="AIAssistant.toggle()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="ai-panel-body" id="ai-chat-messages">
                <div class="ai-message">
                    <div class="ai-avatar-small">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="ai-message-content">
                        <p>Xin ch√†o! T√¥i l√† AI Assistant c·ªßa EduManager Pro. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n:</p>
                        <ul>
                            <li>üìä Ph√¢n t√≠ch d·ªØ li·ªáu v√† t·∫°o b√°o c√°o</li>
                            <li>üîÆ D·ª± ƒëo√°n xu h∆∞·ªõng v√† r·ªßi ro</li>
                            <li>üìÖ T·ªëi ∆∞u th·ªùi kh√≥a bi·ªÉu</li>
                            <li>üí° ƒê·ªÅ xu·∫•t gi·∫£i ph√°p th√¥ng minh</li>
                        </ul>
                        <p>B·∫°n c·∫ßn t√¥i gi√∫p g√¨?</p>
                    </div>
                </div>
            </div>
            <div class="ai-panel-footer">
                <div class="ai-quick-actions">
                    <button class="quick-btn" onclick="AIAssistant.quickAction('analyze')">
                        <i class="fas fa-chart-line"></i> Ph√¢n t√≠ch
                    </button>
                    <button class="quick-btn" onclick="AIAssistant.quickAction('predict')">
                        <i class="fas fa-crystal-ball"></i> D·ª± ƒëo√°n
                    </button>
                    <button class="quick-btn" onclick="AIAssistant.quickAction('optimize')">
                        <i class="fas fa-magic"></i> T·ªëi ∆∞u
                    </button>
                </div>
                <div class="ai-input-container">
                    <input type="text" id="ai-input" placeholder="Nh·∫≠p c√¢u h·ªèi..." onkeypress="if(event.key==='Enter') AIAssistant.sendMessage()">
                    <button class="ai-send-btn" onclick="AIAssistant.sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/database.js?v=4"></script>
    <script src="js/utils.js?v=4"></script>
    <script src="js/app.js?v=4"></script>
    <script src="js/auth.js?v=4"></script>
    <script src="js/dashboard.js?v=4"></script>
    <script src="js/students.js?v=4"></script>
    <script src="js/teachers.js?v=4"></script>
    <script src="js/schedule.js?v=4"></script>
    <script src="js/finance.js?v=4"></script>
    <script src="js/research.js?v=4"></script>
    <script src="js/notifications.js?v=4"></script>
    <script src="js/online-classes.js?v=4"></script>
    <script src="js/ai-engine.js?v=4"></script>
    <script src="js/ai-student-analyzer.js?v=4"></script>
    <script src="js/ai-student-analyzer-extended.js?v=4"></script>
    <script src="js/ai-assistant.js?v=4"></script>
</body>
</html>
